<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Registrieren TuningHub</title>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/libphonenumber-js/1.10.44/libphonenumber-js.min.js"></script>
    <link rel="stylesheet" href="/css/main.css" />
    <link rel="stylesheet" href="/css/register.css" />
    <link rel="stylesheet" href="/css/menu.css" />
    <link rel="stylesheet" href="/css/search.css" />
    <link rel="stylesheet" href="/css/register.css">
    <script src="/js/menu.js"></script>
    <script src="/js/search.js"></script>
    <script src="/js/register.js" defer></script>
   
  </head>

  <body>
    <header class="header">
      <div class="header-top">
        <div class="logo">
          <a href="../index.html">
            <img
              src="/img/THub-Logo-ohne-Hintergrund-500x200.png"
              alt="TuningHub Logo"
              height="50"
            />
          </a>
        </div>
        <div class="searchbar-wrapper">
          <input
            id="searchbar"
            type="text"
            class="searchbar"
            placeholder="Suche nach Teilen, Marken..."
          >
          <img 
            src="/svg/search_60dp_000000_FILL0_wght400_GRAD0_opsz48.svg"
          >
        </div>
      
        <button id="menu-btn" class="menu-button" aria-controls="sidebar" aria-expanded="false" aria-label="Navigation öffnen">
          <!-- Öffnen -->
          <img src="/svg/menu_60dp_000000_FILL0_wght400_GRAD0_opsz48.svg" alt="Menu" width="36" height="36" class="icon icon-open">
          <!-- Schließen -->
          <img src="/svg/close_60dp_000000_FILL0_wght400_GRAD0_opsz48.svg" alt="Schließen" width="36" height="36" class="icon icon-close">
        </button>
        <nav class="sidebar" id="sidebar">
          <div class="sidebar-header">
            <div class="sidebar-title">Navigation</div>
          </div>
          <div class="menu-items">
            <a href="../index.html" class="menu-item">Startseite</a>
            <a href="teilehinzufügen.html" class="menu-item">Teile verkaufen</a>
            <a href="teilesuchen.html" class="menu-item">Teile suchen</a>
            <a href="#" class="menu-item" style="color: #999">Chat</a>
            <a href="#" class="menu-item" style="color: #999">Teile sofort verkaufen</a>
            <a href="#" class="menu-item" style="color: #999;">Benachrichtigungen</a>
            <a href="#" class="menu-item" style="color: #999;">Produkte</a>   
            <a href="datenschutz.html" class="menu-item">Datenschutz</a>          
            <a href="impressum.html" class="menu-item">Impressum</a>           
            <a href="übertuninghub.html" class="menu-item">Über uns</a>
            <a href="support.html" class="menu-item">Support</a>
            <a href="account.html" class="menu-item">Einstellungen</a>
          </div>
        </nav>
        <div class="overlay" id="overlay"></div>
      </div>
    </header>
    
    <main>
      <h1 class="main-überschrift">Registrieren</h1>
      
      <!-- Fortschrittsanzeige -->
      <div class="progress-container">
        <div class="progress-bar">
          <div class="progress-line" id="progress-line"></div>
          <div class="step">
            <div class="step-circle active" id="step-circle-1">1</div>
            <div class="step-title active" id="step-title-1">Persönliche Daten</div>
          </div>
          <div class="step">
            <div class="step-circle" id="step-circle-2">2</div>
            <div class="step-title" id="step-title-2">Kontakt Präferenzen</div>
          </div>
          <div class="step">
            <div class="step-circle" id="step-circle-3">3</div>
            <div class="step-title" id="step-title-3">Bestätigung</div>
          </div>
        </div>
      </div>

      <div class="form-wrapper">
        <form id="register-form">
          
          <!-- Schritt 1: Persönliche Daten -->
          <div class="step-content active" id="step-1">
            <input
              type="text"
              id="username"
              placeholder="Vollständiger Name"
              required
            />
            <input type="tel" id="phone" placeholder="Telefonnummer (z.B. +49 123 456789)" required />
            <input type="email" id="email" placeholder="E-Mail" required />
            <input type="url" id="social-media" placeholder="Social Media (optional)"/>
            
            <div class="password-container">
              <input
                type="password"
                id="password"
                placeholder="Passwort"
                required
              />
              <button type="button" class="password-toggle" onclick="togglePassword('password')" style="display: none;">👁️</button>
            </div>
            
            <div class="password-container">
              <input
                type="password"
                id="password-confirm"
                placeholder="Passwort bestätigen"
                required
              />
              <button type="button" class="password-toggle" onclick="togglePassword('password-confirm')" style="display: none;">👁️</button>
            </div>

            <div class="checkbox-container">
              <label class="checkbox-wrapper">
                <input type="checkbox" id="privacy-consent" required />
                <span class="checkmark"></span>
                <span class="checkbox-text">
                  Ich stimme der
                  <a href="datenschutz.html" target="_blank">Datenschutzerklärung</a>
                  zu
                </span>
              </label>
            </div>
          </div>

          <!-- Schritt 2: Kontakt Präferenzen -->
          <div class="step-content" id="step-2">
            <h3 style="text-align: center; margin-bottom: 20px; color: #333;">Wie möchten Sie kontaktiert werden?</h3>
            <p style="text-align: center; color: #666; margin-bottom: 30px;">Wählen Sie mindestens eine Kontaktmöglichkeit aus:</p>
            
            <div class="contact-options">
              <div class="contact-option" onclick="selectContactOption('phone-contact')">
                <input type="checkbox" id="phone-contact" name="contact-method" value="phone">
                <div class="contact-option-content">
                  <div class="contact-option-title">Telefonnummer</div>
                  <div class="contact-option-desc">Direkter Kontakt per Anruf oder SMS</div>
                </div>
                <div class="contact-option-icon">📞</div>
              </div>
              
              <div class="contact-option" onclick="selectContactOption('social-contact')">
                <input type="checkbox" id="social-contact" name="contact-method" value="social">
                <div class="contact-option-content">
                  <div class="contact-option-title">Social Media</div>
                  <div class="contact-option-desc">Kontakt über Ihre Social Media Kanäle</div>
                </div>
                <div class="contact-option-icon">📱</div>
              </div>
              
              <div class="contact-option" onclick="selectContactOption('chat-contact')">
                <input type="checkbox" id="chat-contact" name="contact-method" value="chat">
                <div class="contact-option-content">
                  <div class="contact-option-title">Integrierte Chat-Funktion</div>
                  <div class="contact-option-desc">Sicherer Chat direkt über TuningHub</div>
                </div>
                <div class="contact-option-icon">💬</div>
              </div>
            </div>
          </div>

          <!-- Schritt 3: Bestätigung -->
          <div class="step-content" id="step-3">
            <div class="confirmation-content">
              <div class="confirmation-icon">📧</div>
              <div class="confirmation-title">Fast geschafft!</div>
              <div class="confirmation-text">
                Wir haben eine Bestätigungs-E-Mail an <span class="email-highlight" id="confirmation-email"></span> gesendet.
                <br><br>
                Bitte überprüfen Sie Ihr E-Mail-Postfach (auch den Spam-Ordner) und klicken Sie auf den Bestätigungslink, um Ihren Account zu aktivieren.
                <br><br>
                <strong>Wichtig:</strong> Ohne E-Mail-Bestätigung können Sie sich nicht einloggen.
              </div>
            </div>
          </div>

          <!-- Navigation -->
          <div class="step-navigation">
            <button type="button" class="nav-button secondary" id="prev-button" onclick="previousStep()" style="display: none;">
              Zurück
            </button>
            <button type="button" class="nav-button primary" id="next-button" onclick="nextStep()">
              Weiter
            </button>
          </div>

          <div class="button-group" style="display: none;" id="alternative-links">
            <a href="registerbusiness.html" class="back-link">Du hast ein Gewerbe?</a>
          </div>
          <p id="error"></p>
        </form>
      </div>
    </main>
    
    <footer>
      <div class="informations"><a href="übertuninghub.html">TuningHub</a></div>
      <div class="informations"><a href="impressum.html">Impressum</a></div>
      <div class="informations"><a href="support.html"> Support</a></div>
      <div class="informations"><a href="socialmedia.html"> Social Media</a></div>
      <div class="informations"><a href="datenschutz.html">Datenschutz</a></div>
    </footer>

  </body>